"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{95:function(e,t,n){n.d(t,{r:function(){return c}});var o=n(2988),a=n(2265),r=n(7776),i=n(8842);let l=parseInt(r.REVISION.replace(/\D+/g,"")),s=function(e,t,n,o){let a=class extends r.ShaderMaterial{constructor(o={}){let a=Object.entries(e);super({uniforms:a.reduce((e,[t,n])=>{let o=r.UniformsUtils.clone({[t]:{value:n}});return{...e,...o}},{}),vertexShader:t,fragmentShader:n}),this.key="",a.forEach(([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t})),Object.assign(this,o)}};return a.key=r.MathUtils.generateUUID(),a}({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new r.Color,sectionColor:new r.Color,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new r.Vector3,worldPlanePosition:new r.Vector3},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${l>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),c=a.forwardRef(({args:e,cellColor:t="#000000",sectionColor:n="#2080ff",cellSize:l=.5,sectionSize:c=1,followCamera:u=!1,infiniteGrid:m=!1,fadeDistance:d=100,fadeStrength:p=1,fadeFrom:h=1,cellThickness:f=.5,sectionThickness:b=1,side:g=r.BackSide,...v},y)=>{(0,i.e)({GridMaterial:s});let E=a.useRef(null);a.useImperativeHandle(y,()=>E.current,[]);let w=new r.Plane,P=new r.Vector3(0,1,0),x=new r.Vector3(0,0,0);return(0,i.C)(e=>{w.setFromNormalAndCoplanarPoint(P,x).applyMatrix4(E.current.matrixWorld);let t=E.current.material,n=t.uniforms.worldCamProjPosition,o=t.uniforms.worldPlanePosition;w.projectPoint(e.camera.position,n.value),o.value.set(0,0,0).applyMatrix4(E.current.matrixWorld)}),a.createElement("mesh",(0,o.Z)({ref:E,frustumCulled:!1},v),a.createElement("gridMaterial",(0,o.Z)({transparent:!0,"extensions-derivatives":!0,side:g},{cellSize:l,sectionSize:c,cellColor:t,sectionColor:n,cellThickness:f,sectionThickness:b},{fadeDistance:d,fadeStrength:p,fadeFrom:h,infiniteGrid:m,followCamera:u})),a.createElement("planeGeometry",{args:e}))})},2585:function(e,t,n){n.d(t,{K4:function(){return P},EJ:function(){return x}});var o=n(2988),a=n(7776),r=n(2265),i=n(8842),l=n(1448),s=n.n(l);s().func.isRequired,s().arrayOf(s().oneOfType([s().element,s().func])).isRequired;let c=(e,t)=>{"updateRanges"in e?e.updateRanges[0]=t:e.updateRange=t},u=new a.Matrix4,m=new a.Matrix4,d=[],p=new a.Mesh;class h extends a.Group{constructor(){super(),this.color=new a.Color("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return null==(e=this.instance.current)?void 0:e.geometry}raycast(e,t){let n=this.instance.current;if(!n||!n.geometry||!n.material)return;p.geometry=n.geometry;let o=n.matrixWorld,r=n.userData.instances.indexOf(this.instanceKey);if(-1!==r&&!(r>n.count)){n.getMatrixAt(r,u),m.multiplyMatrices(o,u),p.matrixWorld=m,n.material instanceof a.Material?p.material.side=n.material.side:p.material.side=n.material[0].side,p.raycast(e,d);for(let e=0,n=d.length;e<n;e++){let n=d[e];n.instanceId=r,n.object=this,t.push(n)}d.length=0}}}let f=r.createContext(null),b=new a.Matrix4,g=new a.Matrix4,v=new a.Matrix4,y=new a.Vector3,E=new a.Quaternion,w=new a.Vector3,P=r.forwardRef(({context:e,children:t,...n},a)=>{r.useMemo(()=>(0,i.e)({PositionMesh:h}),[]);let l=r.useRef();r.useImperativeHandle(a,()=>l.current,[]);let{subscribe:s,getParent:c}=r.useContext(e||f);return r.useLayoutEffect(()=>s(l),[]),r.createElement("positionMesh",(0,o.Z)({instance:c(),instanceKey:l,ref:l},n),t)}),x=r.forwardRef(({children:e,range:t,limit:n=1e3,frames:l=1/0,...s},u)=>{let[{context:m,instance:d}]=r.useState(()=>{let e=r.createContext(null);return{context:e,instance:r.forwardRef((t,n)=>r.createElement(P,(0,o.Z)({context:e},t,{ref:n})))}}),p=r.useRef(null);r.useImperativeHandle(u,()=>p.current,[]);let[h,x]=r.useState([]),[[j,O]]=r.useState(()=>{let e=new Float32Array(16*n);for(let t=0;t<n;t++)v.identity().toArray(e,16*t);return[e,new Float32Array([...Array(3*n)].map(()=>1))]});r.useEffect(()=>{p.current.instanceMatrix.needsUpdate=!0});let C=0,M=0;(0,i.C)(()=>{if(l===1/0||C<l){p.current.updateMatrix(),p.current.updateMatrixWorld(),b.copy(p.current.matrixWorld).invert(),M=Math.min(n,void 0!==t?t:n,h.length),p.current.count=M,c(p.current.instanceMatrix,{offset:0,count:16*M}),c(p.current.instanceColor,{offset:0,count:3*M});for(let e=0;e<h.length;e++){let t=h[e].current;t.matrixWorld.decompose(y,E,w),g.compose(y,E,w).premultiply(b),g.toArray(j,16*e),p.current.instanceMatrix.needsUpdate=!0,t.color.toArray(O,3*e),p.current.instanceColor.needsUpdate=!0}C++}});let T=r.useMemo(()=>({getParent:()=>p,subscribe:e=>(x(t=>[...t,e]),()=>x(t=>t.filter(t=>t.current!==e.current)))}),[]);return r.createElement("instancedMesh",(0,o.Z)({userData:{instances:h},matrixAutoUpdate:!1,ref:p,args:[null,null,0],raycast:()=>null},s),r.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:j.length/16,array:j,itemSize:16,usage:a.DynamicDrawUsage}),r.createElement("instancedBufferAttribute",{attach:"instanceColor",count:O.length/3,array:O,itemSize:3,usage:a.DynamicDrawUsage}),"function"==typeof e?r.createElement(m.Provider,{value:T},e(d)):r.createElement(f.Provider,{value:T},e))})},6547:function(e,t,n){n.d(t,{z:function(){return f}});var o=n(2988),a=n(8842),r=n(2265),i=n(7776),l=Object.defineProperty,s=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t,n)=>(s(e,"symbol"!=typeof t?t+"":t,n),n);let u=new i.Ray,m=new i.Plane,d=Math.cos(Math.PI/180*70),p=(e,t)=>(e%t+t)%t;class h extends i.EventDispatcher{constructor(e,t){super(),c(this,"object"),c(this,"domElement"),c(this,"enabled",!0),c(this,"target",new i.Vector3),c(this,"minDistance",0),c(this,"maxDistance",1/0),c(this,"minZoom",0),c(this,"maxZoom",1/0),c(this,"minPolarAngle",0),c(this,"maxPolarAngle",Math.PI),c(this,"minAzimuthAngle",-1/0),c(this,"maxAzimuthAngle",1/0),c(this,"enableDamping",!1),c(this,"dampingFactor",.05),c(this,"enableZoom",!0),c(this,"zoomSpeed",1),c(this,"enableRotate",!0),c(this,"rotateSpeed",1),c(this,"enablePan",!0),c(this,"panSpeed",1),c(this,"screenSpacePanning",!0),c(this,"keyPanSpeed",7),c(this,"zoomToCursor",!1),c(this,"autoRotate",!1),c(this,"autoRotateSpeed",2),c(this,"reverseOrbit",!1),c(this,"reverseHorizontalOrbit",!1),c(this,"reverseVerticalOrbit",!1),c(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),c(this,"mouseButtons",{LEFT:i.MOUSE.ROTATE,MIDDLE:i.MOUSE.DOLLY,RIGHT:i.MOUSE.PAN}),c(this,"touches",{ONE:i.TOUCH.ROTATE,TWO:i.TOUCH.DOLLY_PAN}),c(this,"target0"),c(this,"position0"),c(this,"zoom0"),c(this,"_domElementKeyEvents",null),c(this,"getPolarAngle"),c(this,"getAzimuthalAngle"),c(this,"setPolarAngle"),c(this,"setAzimuthalAngle"),c(this,"getDistance"),c(this,"listenToKeyEvents"),c(this,"stopListenToKeyEvents"),c(this,"saveState"),c(this,"reset"),c(this,"update"),c(this,"connect"),c(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=e=>{let t=p(e,2*Math.PI),o=f.phi;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let a=Math.abs(t-o);2*Math.PI-a<a&&(t<o?t+=2*Math.PI:o+=2*Math.PI),b.phi=t-o,n.update()},this.setAzimuthalAngle=e=>{let t=p(e,2*Math.PI),o=f.theta;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let a=Math.abs(t-o);2*Math.PI-a<a&&(t<o?t+=2*Math.PI:o+=2*Math.PI),b.theta=t-o,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",et),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",et),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(o),n.update(),s=l.NONE},this.update=(()=>{let t=new i.Vector3,a=new i.Vector3(0,1,0),r=new i.Quaternion().setFromUnitVectors(e.up,a),c=r.clone().invert(),p=new i.Vector3,y=new i.Quaternion,E=2*Math.PI;return function(){let w=n.object.position;r.setFromUnitVectors(e.up,a),c.copy(r).invert(),t.copy(w).sub(n.target),t.applyQuaternion(r),f.setFromVector3(t),n.autoRotate&&s===l.NONE&&S(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(f.theta+=b.theta*n.dampingFactor,f.phi+=b.phi*n.dampingFactor):(f.theta+=b.theta,f.phi+=b.phi);let P=n.minAzimuthAngle,x=n.maxAzimuthAngle;isFinite(P)&&isFinite(x)&&(P<-Math.PI?P+=E:P>Math.PI&&(P-=E),x<-Math.PI?x+=E:x>Math.PI&&(x-=E),P<=x?f.theta=Math.max(P,Math.min(x,f.theta)):f.theta=f.theta>(P+x)/2?Math.max(P,f.theta):Math.min(x,f.theta)),f.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,f.phi)),f.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(v,n.dampingFactor):n.target.add(v),n.zoomToCursor&&N||n.object.isOrthographicCamera?f.radius=Y(f.radius):f.radius=Y(f.radius*g),t.setFromSpherical(f),t.applyQuaternion(c),w.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(b.theta*=1-n.dampingFactor,b.phi*=1-n.dampingFactor,v.multiplyScalar(1-n.dampingFactor)):(b.set(0,0,0),v.set(0,0,0));let j=!1;if(n.zoomToCursor&&N){let o=null;if(n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera){let e=t.length();o=Y(e*g);let a=e-o;n.object.position.addScaledVector(T,a),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let e=new i.Vector3(A.x,A.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix(),j=!0;let a=new i.Vector3(A.x,A.y,0);a.unproject(n.object),n.object.position.sub(a).add(e),n.object.updateMatrixWorld(),o=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==o&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(o).add(n.object.position):(u.origin.copy(n.object.position),u.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(u.direction))<d?e.lookAt(n.target):(m.setFromNormalAndCoplanarPoint(n.object.up,n.target),u.intersectPlane(m,n.target))))}else n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera&&(j=1!==g)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix());return g=1,N=!1,!!(j||p.distanceToSquared(n.object.position)>h||8*(1-y.dot(n.object.quaternion))>h)&&(n.dispatchEvent(o),p.copy(n.object.position),y.copy(n.object.quaternion),j=!1,!0)}})(),this.connect=e=>{e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",en),n.domElement.addEventListener("pointerdown",Q),n.domElement.addEventListener("pointercancel",$),n.domElement.addEventListener("wheel",ee)},this.dispose=()=>{var e,t,o,a,r,i;n.domElement&&(n.domElement.style.touchAction="auto"),null==(e=n.domElement)||e.removeEventListener("contextmenu",en),null==(t=n.domElement)||t.removeEventListener("pointerdown",Q),null==(o=n.domElement)||o.removeEventListener("pointercancel",$),null==(a=n.domElement)||a.removeEventListener("wheel",ee),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",J),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",$),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",et)};let n=this,o={type:"change"},a={type:"start"},r={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=l.NONE,h=1e-6,f=new i.Spherical,b=new i.Spherical,g=1,v=new i.Vector3,y=new i.Vector2,E=new i.Vector2,w=new i.Vector2,P=new i.Vector2,x=new i.Vector2,j=new i.Vector2,O=new i.Vector2,C=new i.Vector2,M=new i.Vector2,T=new i.Vector3,A=new i.Vector2,N=!1,R=[],k={};function L(){return Math.pow(.95,n.zoomSpeed)}function S(e){n.reverseOrbit||n.reverseHorizontalOrbit?b.theta+=e:b.theta-=e}function I(e){n.reverseOrbit||n.reverseVerticalOrbit?b.phi+=e:b.phi-=e}let D=(()=>{let e=new i.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),v.add(e)}})(),F=(()=>{let e=new i.Vector3;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),v.add(e)}})(),z=(()=>{let e=new i.Vector3;return function(t,o){let a=n.domElement;if(a&&n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera){let r=n.object.position;e.copy(r).sub(n.target);let i=e.length();D(2*t*(i*=Math.tan(n.object.fov/2*Math.PI/180))/a.clientHeight,n.object.matrix),F(2*o*i/a.clientHeight,n.object.matrix)}else a&&n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera?(D(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),F(o*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function V(e){n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera||n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera?g/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function U(e){n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera||n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera?g*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function _(e){if(!n.zoomToCursor||!n.domElement)return;N=!0;let t=n.domElement.getBoundingClientRect(),o=e.clientX-t.left,a=e.clientY-t.top,r=t.width,i=t.height;A.x=o/r*2-1,A.y=-(a/i*2)+1,T.set(A.x,A.y,1).unproject(n.object).sub(n.object.position).normalize()}function Y(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function H(e){y.set(e.clientX,e.clientY)}function Z(e){P.set(e.clientX,e.clientY)}function X(){if(1==R.length)y.set(R[0].pageX,R[0].pageY);else{let e=.5*(R[0].pageX+R[1].pageX),t=.5*(R[0].pageY+R[1].pageY);y.set(e,t)}}function K(){if(1==R.length)P.set(R[0].pageX,R[0].pageY);else{let e=.5*(R[0].pageX+R[1].pageX),t=.5*(R[0].pageY+R[1].pageY);P.set(e,t)}}function G(){let e=R[0].pageX-R[1].pageX,t=R[0].pageY-R[1].pageY;O.set(0,Math.sqrt(e*e+t*t))}function W(e){if(1==R.length)E.set(e.pageX,e.pageY);else{let t=ea(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);E.set(n,o)}w.subVectors(E,y).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(S(2*Math.PI*w.x/t.clientHeight),I(2*Math.PI*w.y/t.clientHeight)),y.copy(E)}function B(e){if(1==R.length)x.set(e.pageX,e.pageY);else{let t=ea(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);x.set(n,o)}j.subVectors(x,P).multiplyScalar(n.panSpeed),z(j.x,j.y),P.copy(x)}function q(e){let t=ea(e),o=e.pageX-t.x,a=e.pageY-t.y;C.set(0,Math.sqrt(o*o+a*a)),M.set(0,Math.pow(C.y/O.y,n.zoomSpeed)),V(M.y),O.copy(C)}function Q(e){var t,o;!1!==n.enabled&&(0===R.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",J),null==(o=n.domElement)||o.ownerDocument.addEventListener("pointerup",$)),R.push(e),"touch"===e.pointerType?function(e){switch(eo(e),R.length){case 1:switch(n.touches.ONE){case i.TOUCH.ROTATE:if(!1===n.enableRotate)return;X(),s=l.TOUCH_ROTATE;break;case i.TOUCH.PAN:if(!1===n.enablePan)return;K(),s=l.TOUCH_PAN;break;default:s=l.NONE}break;case 2:switch(n.touches.TWO){case i.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&G(),n.enablePan&&K(),s=l.TOUCH_DOLLY_PAN;break;case i.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&G(),n.enableRotate&&X(),s=l.TOUCH_DOLLY_ROTATE;break;default:s=l.NONE}break;default:s=l.NONE}s!==l.NONE&&n.dispatchEvent(a)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case i.MOUSE.DOLLY:if(!1===n.enableZoom)return;_(e),O.set(e.clientX,e.clientY),s=l.DOLLY;break;case i.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;Z(e),s=l.PAN}else{if(!1===n.enableRotate)return;H(e),s=l.ROTATE}break;case i.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;H(e),s=l.ROTATE}else{if(!1===n.enablePan)return;Z(e),s=l.PAN}break;default:s=l.NONE}s!==l.NONE&&n.dispatchEvent(a)}(e))}function J(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(eo(e),s){case l.TOUCH_ROTATE:if(!1===n.enableRotate)return;W(e),n.update();break;case l.TOUCH_PAN:if(!1===n.enablePan)return;B(e),n.update();break;case l.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&q(e),n.enablePan&&B(e),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&q(e),n.enableRotate&&W(e),n.update();break;default:s=l.NONE}}(e):function(e){if(!1!==n.enabled)switch(s){case l.ROTATE:if(!1===n.enableRotate)return;!function(e){E.set(e.clientX,e.clientY),w.subVectors(E,y).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(S(2*Math.PI*w.x/t.clientHeight),I(2*Math.PI*w.y/t.clientHeight)),y.copy(E),n.update()}(e);break;case l.DOLLY:if(!1===n.enableZoom)return;C.set(e.clientX,e.clientY),M.subVectors(C,O),M.y>0?V(L()):M.y<0&&U(L()),O.copy(C),n.update();break;case l.PAN:if(!1===n.enablePan)return;x.set(e.clientX,e.clientY),j.subVectors(x,P).multiplyScalar(n.panSpeed),z(j.x,j.y),P.copy(x),n.update()}}(e))}function $(e){var t,o,a;(function(e){delete k[e.pointerId];for(let t=0;t<R.length;t++)if(R[t].pointerId==e.pointerId){R.splice(t,1);return}})(e),0===R.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointermove",J),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointerup",$)),n.dispatchEvent(r),s=l.NONE}function ee(e){!1!==n.enabled&&!1!==n.enableZoom&&(s===l.NONE||s===l.ROTATE)&&(e.preventDefault(),n.dispatchEvent(a),_(e),e.deltaY<0?U(L()):e.deltaY>0&&V(L()),n.update(),n.dispatchEvent(r))}function et(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:z(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:z(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:z(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:z(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function en(e){!1!==n.enabled&&e.preventDefault()}function eo(e){let t=k[e.pointerId];void 0===t&&(t=new i.Vector2,k[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ea(e){return k[(e.pointerId===R[0].pointerId?R[1]:R[0]).pointerId]}void 0!==t&&this.connect(t),this.update()}}let f=r.forwardRef(({makeDefault:e,camera:t,regress:n,domElement:i,enableDamping:l=!0,keyEvents:s=!1,onChange:c,onStart:u,onEnd:m,...d},p)=>{let f=(0,a.A)(e=>e.invalidate),b=(0,a.A)(e=>e.camera),g=(0,a.A)(e=>e.gl),v=(0,a.A)(e=>e.events),y=(0,a.A)(e=>e.setEvents),E=(0,a.A)(e=>e.set),w=(0,a.A)(e=>e.get),P=(0,a.A)(e=>e.performance),x=t||b,j=i||v.connected||g.domElement,O=r.useMemo(()=>new h(x),[x]);return(0,a.C)(()=>{O.enabled&&O.update()},-1),r.useEffect(()=>(s&&O.connect(!0===s?j:s),O.connect(j),()=>void O.dispose()),[s,j,n,O,f]),r.useEffect(()=>{let e=e=>{f(),n&&P.regress(),c&&c(e)},t=e=>{u&&u(e)},o=e=>{m&&m(e)};return O.addEventListener("change",e),O.addEventListener("start",t),O.addEventListener("end",o),()=>{O.removeEventListener("start",t),O.removeEventListener("end",o),O.removeEventListener("change",e)}},[c,u,m,O,f,y]),r.useEffect(()=>{if(e){let e=w().controls;return E({controls:O}),()=>E({controls:e})}},[e,O]),r.createElement("primitive",(0,o.Z)({ref:p,object:O,enableDamping:l},d))})},4262:function(e,t,n){n.d(t,{c:function(){return s}});var o=n(2988),a=n(2265),r=n(8842),i=n(5087);let l=e=>"function"==typeof e,s=a.forwardRef(({envMap:e,resolution:t=256,frames:n=1/0,makeDefault:s,children:c,...u},m)=>{let d=(0,r.A)(({set:e})=>e),p=(0,r.A)(({camera:e})=>e),h=(0,r.A)(({size:e})=>e),f=a.useRef(null);a.useImperativeHandle(m,()=>f.current,[]);let b=a.useRef(null),g=(0,i.R)(t);a.useLayoutEffect(()=>{u.manual||(f.current.aspect=h.width/h.height)},[h,u]),a.useLayoutEffect(()=>{f.current.updateProjectionMatrix()});let v=0,y=null,E=l(c);return(0,r.C)(t=>{E&&(n===1/0||v<n)&&(b.current.visible=!1,t.gl.setRenderTarget(g),y=t.scene.background,e&&(t.scene.background=e),t.gl.render(t.scene,f.current),t.scene.background=y,t.gl.setRenderTarget(null),b.current.visible=!0,v++)}),a.useLayoutEffect(()=>{if(s)return d(()=>({camera:f.current})),()=>d(()=>({camera:p}))},[f,s,d]),a.createElement(a.Fragment,null,a.createElement("perspectiveCamera",(0,o.Z)({ref:f},u),!E&&c),a.createElement("group",{ref:b},E&&c(g.texture)))})},3830:function(e,t,n){n.d(t,{Z:function(){return R}});var o=n(6800),a=n.n(o),r=n(1448),i=n.n(r),l=n(2265),s=n(7437);let c={type:i().string,tooltip:i().bool,as:i().elementType},u=l.forwardRef((e,t)=>{let{as:n="div",className:o,type:r="valid",tooltip:i=!1,...l}=e;return(0,s.jsx)(n,{...l,ref:t,className:a()(o,"".concat(r,"-").concat(i?"tooltip":"feedback"))})});u.displayName="Feedback",u.propTypes=c;let m=l.createContext({});var d=n(2574);let p=l.forwardRef((e,t)=>{let{id:n,bsPrefix:o,className:r,type:i="checkbox",isValid:c=!1,isInvalid:u=!1,as:p="input",...h}=e,{controlId:f}=(0,l.useContext)(m);return o=(0,d.vE)(o,"form-check-input"),(0,s.jsx)(p,{...h,ref:t,type:i,id:n||f,className:a()(r,o,c&&"is-valid",u&&"is-invalid")})});p.displayName="FormCheckInput";let h=l.forwardRef((e,t)=>{let{bsPrefix:n,className:o,htmlFor:r,...i}=e,{controlId:c}=(0,l.useContext)(m);return n=(0,d.vE)(n,"form-check-label"),(0,s.jsx)("label",{...i,ref:t,htmlFor:r||c,className:a()(o,n)})});h.displayName="FormCheckLabel";let f=l.forwardRef((e,t)=>{let{id:n,bsPrefix:o,bsSwitchPrefix:r,inline:i=!1,reverse:c=!1,disabled:f=!1,isValid:b=!1,isInvalid:g=!1,feedbackTooltip:v=!1,feedback:y,feedbackType:E,className:w,style:P,title:x="",type:j="checkbox",label:O,children:C,as:M="input",...T}=e;o=(0,d.vE)(o,"form-check"),r=(0,d.vE)(r,"form-switch");let{controlId:A}=(0,l.useContext)(m),N=(0,l.useMemo)(()=>({controlId:n||A}),[A,n]),R=!C&&null!=O&&!1!==O||l.Children.toArray(C).some(e=>l.isValidElement(e)&&e.type===h),k=(0,s.jsx)(p,{...T,type:"switch"===j?"checkbox":j,ref:t,isValid:b,isInvalid:g,disabled:f,as:M});return(0,s.jsx)(m.Provider,{value:N,children:(0,s.jsx)("div",{style:P,className:a()(w,R&&o,i&&"".concat(o,"-inline"),c&&"".concat(o,"-reverse"),"switch"===j&&r),children:C||(0,s.jsxs)(s.Fragment,{children:[k,R&&(0,s.jsx)(h,{title:x,children:O}),y&&(0,s.jsx)(u,{type:E,tooltip:v,children:y})]})})})});f.displayName="FormCheck";var b=Object.assign(f,{Input:p,Label:h});n(5556);let g=l.forwardRef((e,t)=>{let{bsPrefix:n,type:o,size:r,htmlSize:i,id:c,className:u,isValid:p=!1,isInvalid:h=!1,plaintext:f,readOnly:b,as:g="input",...v}=e,{controlId:y}=(0,l.useContext)(m);return n=(0,d.vE)(n,"form-control"),(0,s.jsx)(g,{...v,type:o,size:i,ref:t,readOnly:b,id:c||y,className:a()(u,f?"".concat(n,"-plaintext"):n,r&&"".concat(n,"-").concat(r),"color"===o&&"".concat(n,"-color"),p&&"is-valid",h&&"is-invalid")})});g.displayName="FormControl";var v=Object.assign(g,{Feedback:u});let y=l.forwardRef((e,t)=>{let{className:n,bsPrefix:o,as:r="div",...i}=e;return o=(0,d.vE)(o,"form-floating"),(0,s.jsx)(r,{ref:t,className:a()(n,o),...i})});y.displayName="FormFloating";let E=l.forwardRef((e,t)=>{let{controlId:n,as:o="div",...a}=e,r=(0,l.useMemo)(()=>({controlId:n}),[n]);return(0,s.jsx)(m.Provider,{value:r,children:(0,s.jsx)(o,{...a,ref:t})})});E.displayName="FormGroup";let w=l.forwardRef((e,t)=>{let[{className:n,...o},{as:r="div",bsPrefix:i,spans:l}]=function(e){let{as:t,bsPrefix:n,className:o,...r}=e;n=(0,d.vE)(n,"col");let i=(0,d.pi)(),l=(0,d.zG)(),s=[],c=[];return i.forEach(e=>{let t,o,a;let i=r[e];delete r[e],"object"==typeof i&&null!=i?{span:t,offset:o,order:a}=i:t=i;let u=e!==l?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(t)),null!=a&&c.push("order".concat(u,"-").concat(a)),null!=o&&c.push("offset".concat(u,"-").concat(o))}),[{...r,className:a()(o,...s,...c)},{as:t,bsPrefix:n,spans:s}]}(e);return(0,s.jsx)(r,{...o,ref:t,className:a()(n,!l.length&&i)})});w.displayName="Col";let P=l.forwardRef((e,t)=>{let{as:n="label",bsPrefix:o,column:r=!1,visuallyHidden:i=!1,className:c,htmlFor:u,...p}=e,{controlId:h}=(0,l.useContext)(m);o=(0,d.vE)(o,"form-label");let f="col-form-label";"string"==typeof r&&(f="".concat(f," ").concat(f,"-").concat(r));let b=a()(c,o,i&&"visually-hidden",r&&f);return(u=u||h,r)?(0,s.jsx)(w,{ref:t,as:"label",className:b,htmlFor:u,...p}):(0,s.jsx)(n,{ref:t,className:b,htmlFor:u,...p})});P.displayName="FormLabel";let x=l.forwardRef((e,t)=>{let{bsPrefix:n,className:o,id:r,...i}=e,{controlId:c}=(0,l.useContext)(m);return n=(0,d.vE)(n,"form-range"),(0,s.jsx)("input",{...i,type:"range",ref:t,className:a()(o,n),id:r||c})});x.displayName="FormRange";let j=l.forwardRef((e,t)=>{let{bsPrefix:n,size:o,htmlSize:r,className:i,isValid:c=!1,isInvalid:u=!1,id:p,...h}=e,{controlId:f}=(0,l.useContext)(m);return n=(0,d.vE)(n,"form-select"),(0,s.jsx)("select",{...h,size:r,ref:t,className:a()(i,n,o&&"".concat(n,"-").concat(o),c&&"is-valid",u&&"is-invalid"),id:p||f})});j.displayName="FormSelect";let O=l.forwardRef((e,t)=>{let{bsPrefix:n,className:o,as:r="small",muted:i,...l}=e;return n=(0,d.vE)(n,"form-text"),(0,s.jsx)(r,{...l,ref:t,className:a()(o,n,i&&"text-muted")})});O.displayName="FormText";let C=l.forwardRef((e,t)=>(0,s.jsx)(b,{...e,ref:t,type:"switch"}));C.displayName="Switch";var M=Object.assign(C,{Input:b.Input,Label:b.Label});let T=l.forwardRef((e,t)=>{let{bsPrefix:n,className:o,children:r,controlId:i,label:l,...c}=e;return n=(0,d.vE)(n,"form-floating"),(0,s.jsxs)(E,{ref:t,className:a()(o,n),controlId:i,...c,children:[r,(0,s.jsx)("label",{htmlFor:i,children:l})]})});T.displayName="FloatingLabel";let A={_ref:i().any,validated:i().bool,as:i().elementType},N=l.forwardRef((e,t)=>{let{className:n,validated:o,as:r="form",...i}=e;return(0,s.jsx)(r,{...i,ref:t,className:a()(n,o&&"was-validated")})});N.displayName="Form",N.propTypes=A;var R=Object.assign(N,{Group:E,Control:v,Floating:y,Check:b,Switch:M,Label:P,Text:O,Range:x,Select:j,FloatingLabel:T})}}]);