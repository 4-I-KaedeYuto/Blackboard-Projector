(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[391],{5060:function(e,t,n){Promise.resolve().then(n.bind(n,4556))},2660:function(e,t,n){"use strict";n.r(t),n.d(t,{ContextShowMenu:function(){return h},default:function(){return u}});var i=n(7437),r=n(4321),s=n.n(r);n(6247);var o=n(2265),a=n(4536),c=n(3919);function l(){let{showMenu:e,setShowMenu:t}=(0,o.useContext)(h);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.Z,{show:e,onHide:()=>t(!1),children:[(0,i.jsx)(a.Z.Header,{closeButton:!0,children:(0,i.jsx)(a.Z.Title,{children:"Offcanvas"})}),(0,i.jsx)(a.Z.Body,{children:(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(c.Z.Item,{children:(0,i.jsx)("a",{href:"/",children:"Home"})}),(0,i.jsx)(c.Z.Item,{children:(0,i.jsx)("a",{href:"/projectile/freefall",children:"自由落下"})}),(0,i.jsx)(c.Z.Item,{children:(0,i.jsx)("a",{href:"/projectile/throwup",children:"鉛直投げ上げ"})}),(0,i.jsx)(c.Z.Item,{children:(0,i.jsx)("a",{href:"/projectile/horizontal",children:"水平投射"})}),(0,i.jsx)(c.Z.Item,{children:(0,i.jsx)("a",{href:"/projectile/oblique",children:"斜方投射"})}),(0,i.jsx)(c.Z.Item,{children:(0,i.jsx)("a",{href:"/projectile/monkeyhunting",children:"モンキーハンティング"})})]})})]})})}let h=(0,o.createContext)(null);function u(e){let{children:t}=e,[n,r]=(0,o.useState)(!1);return(0,i.jsxs)("html",{lang:"ja",children:[(0,i.jsx)("head",{children:(0,i.jsx)("title",{children:"ここにタイトルが入ります"})}),(0,i.jsx)("body",{className:s().className,children:(0,i.jsxs)(h.Provider,{value:{showMenu:n,setShowMenu:r},children:[(0,i.jsx)(l,{}),t]})})]})}},4556:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(7437),r=n(8842),s=n(2265),o=n(7776),a=n(2238),c=n(4823);function l(e){let{pos:t,velocity:n,radius:l,color:h,onChange:u,show_trail:x=!1,trail_cooltime:d=.2,renderGraph:f=!1,updateGraph:p=()=>{},active:y=!0,init:j={init:!1,setInit:()=>{}}}=e,m=(0,s.useRef)(n.y),[g,w]=(0,s.useState)([]),v=(0,s.useRef)(),S=(0,s.useRef)(0),Z=(0,s.useRef)(0);return(0,s.useEffect)(()=>{m.current=n.y},[t,n]),(0,s.useEffect)(()=>{w([]),S.current=0,j.setInit(!1)},[j.init]),(0,r.C)((e,t)=>{if(!(y&&t<.1&&v.current.position.y>=0))return;m.current+=-9.8*t;let i=v.current;i.position.x+=n.x*t,i.position.y+=m.current*t,i.position.z+=n.z*t,Z.current>=d&&(x&&w([...g,v.current.position.clone()]),f&&p(S.current,{position:i.position.clone(),velocity:new o.Vector3(n.x,m.current,n.z)}),Z.current-=d),S.current+=t,Z.current+=t,u({position:i.position,velocity:new o.Vector3(n.x,m.current,n.z)})}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.aL,{position:[t.x,t.y,t.z],castShadow:!0,ref:v,args:[l,32,32],children:(0,i.jsx)("meshPhysicalMaterial",{color:h,metalness:.5,roughness:0})}),(0,i.jsx)(a.Z,{radius:l,color:h,pos:g})]})}var h=n(6277),u=n(95),x=n(2325),d=n(3830),f=n(2808),p=n(8305);function y(e){let{pos:t,onChange:n,graphUpdateTime:a,renderGraph:l=!1,updateGraph:h=()=>{},active:u=!0,init:d={init:!1,setInit:()=>{}},hit:f=!1}=e,p=(0,s.useRef)(),y=(0,s.useRef)(0),j=(0,s.useRef)(0),m=(0,s.useRef)(new o.Vector3);(0,s.useEffect)(()=>{y.current=0,m.current=new o.Vector3},[d.init]),(0,r.C)((e,t)=>{if(!(u&&t<.1&&p.current.position.y>=0))return;m.current.y+=-9.8*t;let i=p.current,r=m.current;i.position.x+=r.x*t,i.position.y+=r.y*t,i.position.z+=r.z*t;let s=new o.Vector3(r.x,r.y,r.z);l&&j.current>=a&&(h(y.current,{position:i.position.clone(),velocity:s}),j.current-=a),y.current+=t,j.current+=t,n({position:i.position,velocity:s})});let g="サル";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.V,{position:[t.x,t.y,t.z],style:{color:f?"#f00":"#fff",width:"max-content",fontSize:"250%",marginLeft:"-".concat(g.length/2,"em"),marginTop:"-2.5em",textAlign:"center"},children:g}),(0,i.jsx)(c.xu,{position:[t.x,t.y,t.z],castShadow:!0,ref:p,args:[5,5,5],children:(0,i.jsx)("meshPhysicalMaterial",{color:9523997,metalness:.5,roughness:0})})]})}var j=n(8960);let m=new o.Vector3(80,50,0);function g(){let e=Math.atan(5/8),t=(0,s.useRef)(),n=(0,s.useRef)(),[r,a]=(0,s.useState)(!1),[c,g]=(0,s.useState)({position:new o.Vector3,velocity:new o.Vector3(Math.cos(e),Math.sin(e),0).multiplyScalar(50)}),[w,v]=(0,s.useState)({position:m.clone(),velocity:new o.Vector3}),[S,Z]=(0,s.useState)({x:w.position.x/2,y:w.position.y/2,z:1.75*w.position.y}),[C,z]=(0,s.useState)(0),[M,V]=(0,s.useState)(!1),[k,_]=(0,s.useState)(!0),[b,R]=(0,s.useState)(!0),[I,L]=(0,s.useState)([]),[P,N]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(P)return;let e=new o.Vector3().copy(c.position);e.sub(w.position),N(1>=e.length())},[w,c]),(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(h.N,{camera_pos:S,camera_lookAt:new o.Vector3(S.x,S.y,0)}),b&&(0,i.jsx)(u.r,{cellSize:2,cellColor:new o.Color(268435455),cellThickness:1,rotation:[Math.PI/2,0,0],position:[0,0,0],sectionSize:10,sectionColor:new o.Color(268435455),sectionThickness:1.5,fadeDistance:1e4,infiniteGrid:!0}),(0,i.jsx)(l,{pos:c.position,velocity:c.velocity,radius:1,color:"#f00",show_trail:k,trail_cooltime:.2,onChange:g,renderGraph:!0,updateGraph:(e,t)=>{L([...I,{t:e,data:t}])},active:r,init:{init:M,setInit:V}}),(0,i.jsx)(y,{pos:w.position,onChange:v,active:r,init:{init:M,setInit:V},hit:P}),(0,i.jsxs)(x.V,{calculatePosition:()=>[0,150],style:{width:"200px",background:"#fff"},zIndexRange:[999,0],className:"p-2",children:[(0,i.jsxs)(d.Z,{children:[(0,i.jsxs)(d.Z.Group,{children:[(0,i.jsx)(d.Z.Label,{children:"初期速度"}),(0,i.jsx)(j.Z,{min:30,max:150,step:1,defaultValue:50,ref:t})]}),(0,i.jsxs)(d.Z.Group,{children:[(0,i.jsx)(d.Z.Label,{children:"グラフタイプ"}),(0,i.jsxs)(d.Z.Select,{onChange:e=>{z(+e.target.value)},children:[(0,i.jsx)("option",{value:-1,children:"なし"}),(0,i.jsx)("option",{value:0,children:"y-t"}),(0,i.jsx)("option",{value:1,children:"Vy-t"})]})]}),(0,i.jsx)(d.Z.Check,{ref:n,type:"switch",label:"軌跡を表示",defaultChecked:!0}),(0,i.jsx)(d.Z.Check,{type:"switch",label:"XYグリッドを表示",defaultChecked:!0,onChange:e=>{R(e.target.checked)}})]}),(0,i.jsx)(f.Z,{variant:"primary",onClick:()=>{_(n.current.checked),V(!0),L([]),v({position:m.clone(),velocity:new o.Vector3});let e=+t.current.value,i=Math.atan(m.y/m.x);g({position:new o.Vector3,velocity:new o.Vector3(Math.cos(i),Math.sin(i),0).multiplyScalar(e)}),N(!1)},children:"適用"}),(0,i.jsx)(f.Z,{variant:"primary",onClick:e=>{a(!r),"再生"===e.target.innerHTML?e.target.innerHTML="一時停止":e.target.innerHTML="再生"},children:"再生"})]}),(e=>{switch(e){case 0:return(0,i.jsx)(p.Z,{position:{x:0,y:630},title:"y-tグラフ",size:{width:250,height:250},data:{x:I.map(e=>e.t),y:I.map(e=>e.data.position.y),x_range:{min:0,max:30},y_range:{min:0,max:4*S.y}},drawLine:!0});case 1:return(0,i.jsx)(p.Z,{position:{x:0,y:630},title:"Vy-tグラフ",size:{width:250,height:250},data:{x:I.map(e=>e.t),y:I.map(e=>e.data.velocity.y),x_range:{min:0,max:30},y_range:{min:-10*Math.sqrt(10*S.y*4)/7,max:10*Math.sqrt(10*S.y*4)/7}},drawLine:!0});default:return null}})(C)]})}},8960:function(e,t,n){"use strict";var i=n(7437),r=n(3830),s=n(2265);let o=(0,s.forwardRef)(function(e,t){let{min:n,max:o,step:a,defaultValue:c,onChange:l=()=>{}}=e,[h,u]=(0,s.useState)(c);return(0,i.jsxs)("div",{className:"mx-2",children:[(0,i.jsx)(r.Z.Range,{ref:t,min:n,max:o,step:a,defaultValue:c,onChange:e=>{u(+e.target.value),l()}}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"80%"},children:[(0,i.jsx)("span",{style:{color:"#aaa"},children:void 0!==n?n:""}),(0,i.jsx)("span",{children:h}),(0,i.jsx)("span",{style:{color:"#aaa"},children:void 0!==o?o:""})]})]})});t.Z=o},6277:function(e,t,n){"use strict";n.d(t,{N:function(){return p}});var i=n(7437),r=n(7776),s=n(8842),o=n(3149),a=n(4262),c=n(7467),l=n(2325),h=n(2265),u=n(2808),x=n(2660),d=n(4823),f=n(6547);function p(e){let{camera_pos:t=new r.Vector3(0,10,40),camera_lookAt:n=new r.Vector3(0,10,0)}=e,{camera:i}=(0,s.A)();return(0,s.C)(()=>{i.position.set(t.x,t.y,t.z),i.lookAt(n.x,n.y,n.z)}),null}t.Z=function(e){let{children:t}=e,{setShowMenu:n}=(0,h.useContext)(x.ContextShowMenu);return(0,i.jsx)("div",{className:"App text-center",style:{height:"100%"},children:(0,i.jsxs)(o.Xz,{shadows:!0,gl:{alpha:!0,antialias:!0},onCreated:e=>{let{scene:t}=e;t.background=new r.Color("#000")},children:[(0,i.jsx)("fog",{attach:"fog",args:["#000",500,1e3]}),(0,i.jsx)(a.c,{makeDefault:!0,position:[0,10,0]}),(0,i.jsx)(f.z,{}),(0,i.jsx)("axesHelper",{args:[5]}),(0,i.jsx)("ambientLight",{color:16777215,intensity:1}),(0,i.jsx)("directionalLight",{color:16777215,position:[50,50,-50],intensity:3,castShadow:!0,"shadow-mapSize-width":4096,"shadow-mapSize-height":4096,"shadow-camera-left":-100,"shadow-camera-right":100,"shadow-camera-top":-100,"shadow-camera-bottom":100,"shadow-camera-near":.5,"shadow-camera-far":500,children:(0,i.jsx)(c.W,{type:r.DirectionalLightHelper})}),(0,i.jsx)("directionalLight",{color:16777215,position:[-1e3,1e3,1e3],intensity:2}),(0,i.jsx)(d.JO,{args:[1e3,1e3],position:[0,0,0],rotation:[-Math.PI/2,0,0],receiveShadow:!0,children:(0,i.jsx)("meshStandardMaterial",{color:"#7fd14b"})}),t,(0,i.jsx)(l.V,{calculatePosition:()=>[0,0],style:{width:"50vw",textAlign:"left"},zIndexRange:[999,0],children:(0,i.jsx)(u.Z,{variant:"outline-secondary",className:"ml-2",onClick:()=>{n(!0)},children:"メニューを表示"})})]})})}},8305:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(7437),r=n(2325),s=n(2265);function o(e){let{size:t,title:n,data:r,drawLine:o}=e,a=(0,s.useRef)();return(0,s.useEffect)(()=>{void 0===r.x_range&&(r.x_range={}),void 0===r.y_range&&(r.y_range={});let e=r.x_range.min,t=r.x_range.max,n=r.y_range.min,i=r.y_range.max;void 0===e&&(e=Math.min(...r.x)),void 0===t&&(t=Math.max(...r.x)),void 0===n&&(n=Math.min(...r.y)),void 0===i&&(i=Math.max(...r.y)),e===t&&(e-=.5,t+=.5),n===i&&(n-=.5,i+=.5);let s=a.current,c=s.getContext("2d"),l=s.width,h=s.height,u=[];for(let s=0;s<r.x.length;s++)r.x[s]<e||t<r.x[s]||r.y[s]<n||i<r.y[s]||u.push({x:.9*l*(r.x[s]-e)/(t-e)+.05*l,y:.9*h*(1-(r.y[s]-n)/(i-n))+.05*h});c.fillStyle="#000",c.fillRect(0,0,500,500),c.fillStyle="#f00",c.strokeStyle="#f00",c.lineWidth=2;for(let e=0;e<u.length;e++){let t=u[e];if(c.beginPath(),c.arc(t.x,t.y,.005*Math.min(l,h),0,2*Math.PI,!0),c.fill(),e>=1&&o){let n=u[e-1];c.beginPath(),c.moveTo(n.x,n.y),c.lineTo(t.x,t.y),c.stroke()}}},[r,o]),(0,i.jsxs)("div",{style:{width:"100%",height:"100%",color:"#fff"},children:[n,(0,i.jsx)("canvas",{ref:a,width:t.width,height:t.height,style:{width:"100%",height:"100%"}})]})}function a(e){let{position:t,size:n,title:s,data:a,drawLine:c=!1}=e;return(0,i.jsx)(r.V,{calculatePosition:()=>[t.x,t.y],style:{width:"".concat(n.width,"px"),height:"max-content",textAlign:"center",pointerEvents:"none"},children:(0,i.jsx)(o,{size:n,title:s,data:a,drawLine:c})})}},2238:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(7437),r=n(2585);function s(e){let{radius:t,color:n,pos:s}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.EJ,{limit:100,range:1e3,children:[(0,i.jsx)("sphereGeometry",{args:[.5*t,32,32]}),(0,i.jsx)("meshBasicMaterial",{transparent:!0,opacity:.5,color:n}),s.map((e,t)=>(0,i.jsx)(r.K4,{position:[e.x,e.y,e.z]},"TrailInstance#".concat(t)))]})})}},6247:function(){}},function(e){e.O(0,[355,114,689,881,464,986,971,23,744],function(){return e(e.s=5060)}),_N_E=e.O()}]);